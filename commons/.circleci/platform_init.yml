jobs:
  init:
    parameters:
      target-env:
        type: string
      appName:
        type: string
    working_directory: infrastructure/<<parameters.appName>>/<<parameters.target-env>>
    executor: terraform/default
    steps:
      - checkout
      - terraform/install:
          arch: amd64
          os: linux
          terraform_version: 0.14.2
      - terraform/fmt:
          path: .
      - terraform/validate:
          path: .
